require "bundler/gem_tasks"
require 'rake/testtask'
require "rake/extensiontask"
require 'yard'
require 'yard/rake/yardoc_task'
task :default => :spec

#task :default => :test
#task :test => :compile
Rake::TestTask.new do |t|
  #t.libs << 'lib' << 'test'
  t.test_files = FileList['test/test_*.rb'].exclude('test/test_assoccoords.rb')
end

Rake::ExtensionTask.new "Lumino_RubyExt" do |ext|
    ext.lib_dir = "lib/lumino"
end

FILES = ['app/controllers/**/*.rb',
              'app/helpers/**/*.rb', 
              'app/mailers/**/*.rb', 
              'app/models/**/*.rb']
OPTIONS = ['--debug', '--verbose']
YARD::Rake::YardocTask.new do |t|
  t.files   = ['Lumino.RubyYARDOCSource.generated.rb']
  #t.options = ['--debug', '--verbose']
  #t.options << OPTIONS if $trace
  if Rake.application.options.trace
    t.options = ['--debug', '--verbose']
  end
end

アニメーション
==========

プレイヤーは移動できるようになりましたが、まだアニメーションが実装されていないため、地面を滑るようにしか移動できません。

ここでは、以前に作成したスプライトフレームを切り替えて表示する画像を変化させる、パターンアニメーションを実装します。


実装する動作
----------
以前、スプライトフレームは次のように分割しました。

![](img/player-3.png)

これらは次のような動作に対応します。

| フレーム  |  動作  |
| ---  | --- |
| 0  | 待機 |
| 2, 3  | 移動 |
| 4 | ジャンプ |
| 5 | 下降 |


### 単純な実装

移動アニメーションを実装するには次のように、setFrameIndex を使って 2 番と 3 番のフレームを一定時間ごとに交互に切り替えればよいことになります。

```cpp
playerSprite->setFrameIndex(2);
```

```cpp
playerSprite->setFrameIndex(3);
```

一例ですが、ゲーム起動からの経過時間を返す `Engine::totalTime()` を使うと、次のように 2, 3 フレームを 0.2 秒ごとに切り替えることができます。

```cpp
while (Engine::update())
{
    playerSprite->setFrameIndex(2 + fmod(Engine::totalTime(), 0.4) / 0.2);

    ・・・
}
```





プロパティ
----------


